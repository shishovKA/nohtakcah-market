(function(t){function o(o){for(var e,c,s=o[0],i=o[1],u=o[2],d=0,p=[];d<s.length;d++)c=s[d],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&p.push(a[c][0]),a[c]=0;for(e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);l&&l(o);while(p.length)p.shift()();return n.push.apply(n,u||[]),r()}function r(){for(var t,o=0;o<n.length;o++){for(var r=n[o],e=!0,s=1;s<r.length;s++){var i=r[s];0!==a[i]&&(e=!1)}e&&(n.splice(o--,1),t=c(c.s=r[0]))}return t}var e={},a={app:0},n=[];function c(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=t,c.c=e,c.d=function(t,o,r){c.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:r})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,o){if(1&o&&(t=c(t)),8&o)return t;if(4&o&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var e in t)c.d(r,e,function(o){return t[o]}.bind(null,e));return r},c.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(o,"a",o),o},c.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},c.p="/nohtakcah-market/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=o,s=s.slice();for(var u=0;u<s.length;u++)o(s[u]);var l=i;n.push([0,"chunk-vendors"]),r()})({0:function(t,o,r){t.exports=r("56d7")},"56d7":function(t,o,r){"use strict";r.r(o);r("e260"),r("e6cf"),r("cca6"),r("a79d");var e=r("2b0e"),a=function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("v-app",[r("v-app-bar",{attrs:{app:"",color:"#7D859F",flat:"",dark:"",height:"106"}},[r("v-toolbar-title",{staticClass:"flex-shrink-0 mr-2"},[r("router-link",{staticClass:"text-decoration-none",attrs:{to:"/"}},[r("h1",{staticClass:"white--text text-h6 text-sm-h4"},[t._v(" Находка.ru ")])])],1),r("v-spacer"),r("v-text-field",{attrs:{bar:"",rounded:"",solo:"","background-color":"#fff",color:"#000",light:"",label:"Искать товар","hide-details":"",loading:t.searchLoading,disabled:t.searchLoading},on:{keypress:function(o){return!o.type.indexOf("key")&&t._k(o.keyCode,"enter",13,o.key,"Enter")?null:t.searchProduct(o)}},model:{value:t.valueForSearch,callback:function(o){t.valueForSearch=o},expression:"valueForSearch"}}),r("v-btn",{staticClass:"ml-2",attrs:{icon:""},on:{click:t.searchProduct}},[r("v-icon",[t._v("mdi-magnify")])],1),r("v-spacer"),r("router-link",{staticClass:"text-decoration-none",attrs:{to:"/Saved"}},[r("v-btn",{attrs:{icon:""}},[r("v-icon",[t._v("mdi-heart")])],1)],1)],1),r("v-main",[r("router-view")],1)],1)},n=[],c={name:"App",data:function(){return{valueForSearch:null,searchLoading:!1}},methods:{searchProduct:function(){var t=this;"/"!==this.$router.currentRoute.path&&this.$router.push("/"),this.searchLoading=!0,this.$store.commit("setLastSearch",this.valueForSearch),this.$store.commit("clearProducts"),this.$store.dispatch("searchProduct",this.valueForSearch).then((function(){t.searchLoading=!1}))}}},s=c,i=(r("9171"),r("2877")),u=r("6544"),l=r.n(u),d=r("7496"),p=r("40dc"),f=r("8336"),h=r("132d"),v=r("f6c4"),m=r("2fa4"),k=r("8654"),b=r("2a7f"),g=Object(i["a"])(s,a,n,!1,null,"676a0a36",null),S=g.exports;l()(g,{VApp:d["a"],VAppBar:p["a"],VBtn:f["a"],VIcon:h["a"],VMain:v["a"],VSpacer:m["a"],VTextField:k["a"],VToolbarTitle:b["a"]});var _=r("8c4f"),w=function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("v-container",[r("v-row",{staticClass:"text-center"},[r("v-col",{staticClass:"mt-4 mb-4"},[r("h1",{staticClass:"display-2 font-weight-bold"},[t._v(" Найдем все и по выгодной цене! ")])]),r("v-container",[r("ProductGrid",{attrs:{products:t.products}}),r("v-row",[r("v-col",[t.products.length?r("v-btn",{staticClass:"mt-3 mb-3",on:{click:t.loadMore}},[t._v("Загрузить еще")]):t._e()],1)],1)],1)],1)],1)},C=[],x=function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("div",[r("v-row",t._l(t.products,(function(t,o){return r("v-col",{key:o,attrs:{xs:"12",sm:"6",md:"6",lg:"4",xl:"3"}},[r("Product",{attrs:{product:t}})],1)})),1)],1)},O=[],y=function(){var t=this,o=t.$createElement,r=t._self._c||o;return t.product.productImgSrc?r("v-hover",{scopedSlots:t._u([{key:"default",fn:function(o){var e=o.hover;return[r("v-card",{staticClass:"transition-swing product-card",attrs:{elevation:e?16:4}},[r("v-btn",{staticClass:"bookmark-icon",attrs:{icon:"",large:"",color:t.bookmarkColors},on:{click:t.bookmarkClick}},[r("v-icon",{},[t._v("mdi-book")])],1),r("div",[r("div",{staticClass:"product-img-container"},[r("img",{staticClass:"product-img",attrs:{src:t.product.productImgSrc}})]),r("v-card-title",{staticClass:"product-title"},[t._v(" "+t._s(t.product.productTitleText)+" ")])],1),r("div",[r("v-divider",{staticClass:"mx-4"}),r(t.chooseOfferBar,{tag:"component",attrs:{product:t.product}})],1)],1)]}}],null,!1,1002889911)}):t._e()},P=[],V=(r("4de4"),function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("v-card-actions",[r("v-chip",{attrs:{color:"indigo","text-color":"white"}},[t._v(t._s(t.product.productPrice))]),t.product.productShopCount?r("v-chip",{staticClass:"ml-2",attrs:{color:"indigo","text-color":"white"}},[t._v(" "+t._s(t.product.productShopCount)+" ")]):t._e(),t.product.productSiteLink?r("v-btn",{attrs:{plain:"",color:"indigo",href:t.product.productSiteLink}},[t._v(" "+t._s(t.product.productSiteName)+" ")]):t._e()],1)}),B=[],L={props:["product"]},$=L,T=r("99d9"),j=r("cc20"),M=Object(i["a"])($,V,B,!1,null,null,null),F=M.exports;l()(M,{VBtn:f["a"],VCardActions:T["a"],VChip:j["a"]});var E=function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("div",[r("v-progress-linear",{attrs:{active:t.offersLoading,indeterminate:t.offersLoading,absolute:"",bottom:"",color:"deep-purple accent-4"}}),r("v-card-actions",[r("v-chip",{attrs:{color:"indigo","text-color":"white"}},[t._v(t._s(t.product.productPrice))]),r("v-chip",{staticClass:"ml-2",attrs:{color:"indigo","text-color":"white"}},[t._v(" "+t._s(t.product.productShopCount)+" ")]),r("v-spacer"),r("v-btn",{attrs:{icon:""},on:{click:t.reverseShowShopOffers}},[r("v-icon",[t._v(t._s(t.showShopOffers?"mdi-chevron-up":"mdi-chevron-down"))])],1)],1),r("v-expand-transition",[r("div",{directives:[{name:"show",rawName:"v-show",value:t.showShopOffers,expression:"showShopOffers"}]},[r("v-divider"),t._l(t.offers,(function(o,e){return r("v-card-text",{key:e,staticClass:"d-flex pb-1 pt-1 align-center"},[r("div",{staticClass:"font-weight-bold"},[t._v(t._s(o.offerPrice))]),r("v-spacer"),o.offerShopLink?r("v-btn",{staticClass:"pr-0",attrs:{plain:"",color:"indigo",href:o.offerShopLink}},[t._v(" "+t._s(o.offerShopName||"В магазин")+" ")]):t._e()],1)}))],2)])],1)},A=[],N=r("bc3a"),G=r.n(N),I="https://nohtakcah-market-back.tk",J=G.a.create({baseURL:I});function R(t,o){return J("/products",{params:{search:t,page:o}}).then((function(t){return t.data})).catch((function(t){return console.log(t)}))}function D(t){return J("/products/offers",{params:{offer:t}}).then((function(t){return t.data})).catch((function(t){return console.log(t)}))}var H={props:["product"],data:function(){return{showShopOffers:!1,offers:[],offersLoading:!1}},methods:{reverseShowShopOffers:function(){var t=this;1!=this.offersLoading&&(this.showShopOffers=!this.showShopOffers,this.showShopOffers&&0===this.offers.length&&(this.offersLoading=!0,D(this.product.productOffersLink).then((function(o){t.offers=o,t.offersLoading=!1}))))}}},U=H,q=r("ce7e"),z=r("0789"),K=r("8e36"),Q=Object(i["a"])(U,E,A,!1,null,null,null),W=Q.exports;l()(Q,{VBtn:f["a"],VCardActions:T["a"],VCardText:T["b"],VChip:j["a"],VDivider:q["a"],VExpandTransition:z["a"],VIcon:h["a"],VProgressLinear:K["a"],VSpacer:m["a"]});var X={name:"Product",props:["product"],components:{OfferBarOneProduct:F,OfferBarManyProduct:W},data:function(){return{isBookmark:!1}},mounted:function(){this.isBookmark=this.isBookmarkFunc()},computed:{chooseOfferBar:function(){return this.product.productShopCount?"OfferBarManyProduct":"OfferBarOneProduct"},bookmarkColors:function(){return this.isBookmark?"yellow darken-3":""},bookmarks:function(){return this.$store.state.bookmarks}},methods:{isBookmarkFunc:function(){var t=this,o=this.bookmarks.filter((function(o){return o.productTitleText===t.product.productTitleText}));return Boolean(o.length)},bookmarkClick:function(){this.isBookmark=!this.isBookmark,this.isBookmark?this.$store.commit("saveBookmark",this.product):this.$store.commit("removeBookmark",this.product)}}},Y=X,Z=(r("9351"),r("b0af")),tt=r("ce87"),ot=Object(i["a"])(Y,y,P,!1,null,"16975600",null),rt=ot.exports;l()(ot,{VBtn:f["a"],VCard:Z["a"],VCardTitle:T["c"],VDivider:q["a"],VHover:tt["a"],VIcon:h["a"]});var et={name:"ProductGrid",props:["products"],components:{Product:rt}},at=et,nt=r("62ad"),ct=r("0fd9"),st=Object(i["a"])(at,x,O,!1,null,null,null),it=st.exports;l()(st,{VCol:nt["a"],VRow:ct["a"]});var ut={name:"Home",components:{ProductGrid:it},computed:{products:function(){return this.$store.state.products}},methods:{loadMore:function(){this.$store.dispatch("loadMore")}}},lt=ut,dt=r("a523"),pt=Object(i["a"])(lt,w,C,!1,null,"013e202f",null),ft=pt.exports;l()(pt,{VBtn:f["a"],VCol:nt["a"],VContainer:dt["a"],VRow:ct["a"]});var ht=function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("v-container",[r("v-row",{staticClass:"text-center"},[r("v-col",{staticClass:"mt-4 mb-4"},[r("h1",{staticClass:"display-2 font-weight-bold"},[t._v(" Сохраненные товары ")])])],1),r("ProductGrid",{attrs:{products:t.bookmarks}})],1)},vt=[],mt={name:"Saved",components:{ProductGrid:it},mounted:function(){this.$store.commit("importBookmarks")},computed:{bookmarks:function(){return this.$store.state.bookmarks}}},kt=mt,bt=Object(i["a"])(kt,ht,vt,!1,null,null,null),gt=bt.exports;l()(bt,{VCol:nt["a"],VContainer:dt["a"],VRow:ct["a"]}),e["a"].use(_["a"]);var St="/nohtakcah-market/",_t=[{path:"/",name:"Start",component:ft},{path:"/Saved",name:"Saved",component:gt}],wt=new _["a"]({base:St,mode:"history",routes:_t}),Ct=wt,xt=r("2909"),Ot=(r("99af"),r("2f62")),yt={state:{},mutations:{helloModule:function(t){console.log("message from gModule")}},actions:{}};e["a"].use(Ot["a"]);var Pt=new Ot["a"].Store({state:{products:[],lastSearch:"",pageSearch:1,bookmarks:[]},mutations:{addProducts:function(t,o){t.products=[].concat(Object(xt["a"])(t.products),Object(xt["a"])(o)),console.log(t.products)},clearProducts:function(t){t.products=[],t.pageSearch=1},setLastSearch:function(t,o){t.lastSearch=o},increasePageSearch:function(t){t.pageSearch+=1},importBookmarks:function(t){var o=localStorage.bookmarks;try{t.bookmarks=JSON.parse(o)}catch(r){}},saveBookmark:function(t,o){t.bookmarks.push(o),localStorage.bookmarks=JSON.stringify(t.bookmarks)},removeBookmark:function(t,o){t.bookmarks=t.bookmarks.filter((function(t){return t.productTitleText!==o.productTitleText})),localStorage.bookmarks=JSON.stringify(t.bookmarks)}},actions:{searchProduct:function(t,o){var r=t.state,e=t.commit;return R(o,r.pageSearch).then((function(t){e("addProducts",t),e("increasePageSearch")})).catch((function(t){console.log(t)}))},loadMore:function(t){var o=t.state,r=t.commit;return R(o.lastSearch,o.pageSearch).then((function(t){r("addProducts",t),r("increasePageSearch")})).catch((function(t){console.log(t)}))}},modules:{gApi:yt}}),Vt=r("f309");e["a"].use(Vt["a"]);var Bt=new Vt["a"]({});e["a"].config.productionTip=!1,new e["a"]({router:Ct,store:Pt,vuetify:Bt,render:function(t){return t(S)}}).$mount("#app")},7275:function(t,o,r){},9171:function(t,o,r){"use strict";r("7275")},9351:function(t,o,r){"use strict";r("9e76")},"9e76":function(t,o,r){}});
//# sourceMappingURL=app.68a05c03.js.map